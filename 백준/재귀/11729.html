<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>하노이 탑 이동 순서</title>
</head>
<body>
<script>
    const input = Number(require("fs").readFileSync("/dev/stdin").toString());
    // const input = 4;
    const stack = [];

    function hanoi(n,from,to){
        const by = 6 - from - to;
        if(n===1) {
            stack.push([`${from} ${to}`]);
            return ;
        }
        hanoi(n-1,from,by);
        stack.push([`${from} ${to}`]);
        hanoi(n-1,by,to);
    }

    hanoi(input, 1 ,3);
    console.log(stack.length);
    console.log(stack.join('\n'));

</script>
</body>
</html>