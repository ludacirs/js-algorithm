<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<script>

    console.log(solution(4,[4,4,4,4]));
    function solution(N, stages) {
        var answer = [];
        let users = stages.length;
        for(let i=1; i<=N;i++){
            const temp = stages.reduce((acc,v)=>{
                if(v===i) return acc+1;
                else return acc;
            },0);
            answer.push({i:i, failure:temp/users});
            users -= temp;
        }
        answer.sort((a,b)=>{
            if(a.failure !== b.failure) return b.failure-a.failure;
            return a.i-b.i;
        });
        return answer.map(v=>v.i);
    }
</script>
</body>
</html>