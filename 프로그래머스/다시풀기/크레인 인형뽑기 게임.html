<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<script>

    console.log('answer', solution([
            [0,0,0,0,0],
            [0,0,1,0,3],
            [0,2,5,0,1],
            [4,2,4,4,2],
            [3,5,1,3,1]],
        [1,5,3,5,1,2,1,4]
    ));


    function solution(board, moves) {
        var answer = 0;
        const stack = [];

        for(let i=0; i<moves.length; i++) {
            const temp = moveDoll(moves[i]-1);
            if (temp) matchDoll(temp);
        }

        function matchDoll(temp) {
            if (stack[stack.length - 1] === temp) {
                stack.pop();
                answer += 2;
                return;
            }
            stack.push(temp);
        }
        function moveDoll(move) {
            for(let i=0; i<board.length;i++){
                if(board[i][move] !== 0){
                    const temp = board[i][move];
                    board[i][move] = 0;
                    return temp;
                }
            }
            return false;
        }

        return answer;
    }
</script>
</body>
</html>