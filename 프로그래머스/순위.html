<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<script>
    solution(5,[[1, 4], [4, 2], [2, 5], [5, 3]]);

    function solution(n, results) {
        var answer = 0;
        const adj = Array(n).fill().map(()=>Array(n).fill().map(()=>0));
        results.forEach(v=>{
            const [win, lose] = v;
            adj[win-1][lose-1] = 1;
            adj[lose-1][win-1] = -1;
        });
        console.log(JSON.parse(JSON.stringify(adj)));

        for(let i=0; i<n;i++){
            for(let j=0; j<n;j++){
                for(let k=0; k<n;k++){
                    if(adj[j][i]===1&&adj[i][k]===1) adj[j][k]=1;
                    if(adj[j][i]===-1&&adj[i][k]===-1) adj[j][k]=-1;
                }
                console.log(i,j,)
                console.log(JSON.parse(JSON.stringify(adj)));

            }
        }

        adj.forEach(v=>{
            if(v.filter(v=>v).length >= n-1) answer++;
        });
        return answer;
    }
</script>
</body>
</html>